# 2024-01-22 Package Registry, Layout and E2E

## Использование два Package Registry
Было внесено предложение использовать два Package Registry, чтобы можно было легко переключаться между пекеджами из мастера и из фича-веток на которых открыт пр.  

Получится:  
inner-circle/compensations-api  
inner-circle/test/compensations-api  

В пайплайне мы смотрим на имя ветки - если это фича-ветка, то пушим образ в inner-circle/test/compensations-api, если мастер - то в inner-circle/compensations-api.

За: 

* Порядок  
* Можно удалять образы только с фича-веток при переполнении места образами

Против: 

* Мы никогда не достигали лимита памяти, занимаемой сбилдженными образами  
* Мы планируем находить образы по SHA тэгам   
* Если будет больше одной фича-ветки, то образы в тестовом Package Registry все равно будут перемешиваться и их придется искать по SHA тэгам  
    
## Layout на фронтенде
Layout работает локально, в local-env и на проде, во время разработки был проведен рефокторинг кода и небольшие изменения в дизайне. По изменениям дизайна 

Решили 

* вернуть высоту хэдера и футера  
* вернуть Management вместо IAM  
* попробовать сделать логаут наравне с футером  
* написать компонентный тест как е2е, проверить рендер  
* позже убрать страницу layout  
* inner-layout-ui \-\> inner-circle-layout-ui  
    
## E2E в пайплайне

* Попробовать запустить на self-hosted раннере  
* Сделать воркфлоу деплоя inner-circle-local-env и определить лимиты раннеров гитхаба, итерационно добавляя сервисы, не брать в примере е2е

